{"ast":null,"code":"import Footer from '../components/Footer.vue';\nexport default {\n  name: 'OrderList',\n  data() {\n    return {\n      orderArr: [],\n      user: {}\n    };\n  },\n  created() {\n    this.user = this.$getSessionStorage('user');\n    //根据businessId查询商家信息\n    this.$axios.post('OrdersController/listOrdersByUserId', this.$qs.stringify({\n      UserId: this.UserId\n    })).then(response => {\n      let result = response.data;\n      for (let orders of result) {\n        orders.isShowDetailet = false;\n      }\n      this.orderArr = result;\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  computed: {\n    unpaidOrders() {\n      return this.orderArr.filter(item => item.orderState === 0);\n    },\n    paidOrders() {\n      return this.orderArr.filter(item => item.orderState === 1);\n    }\n  },\n  methods: {\n    detailetShow(orders) {\n      orders.isShowDetailet = !orders.isShowDetailet;\n    }\n  },\n  components: {\n    Footer\n  },\n  mounted() {\n    console.log('Component is mounted');\n    document.onscroll = () => {\n      // 这里添加滚动事件的处理逻辑\n      console.log('Scroll event triggered');\n    };\n  }\n};","map":{"version":3,"names":["Footer","name","data","orderArr","user","created","$getSessionStorage","$axios","post","$qs","stringify","UserId","then","response","result","orders","isShowDetailet","catch","error","console","computed","unpaidOrders","filter","item","orderState","paidOrders","methods","detailetShow","components","mounted","log","document","onscroll"],"sources":["D:\\vue\\vue3\\elm\\elmclient\\src\\views\\OrderList.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\r\n\t\t<!-- header -->\r\n\t\t<header>\r\n\t\t\t<p>我的订单</p>\r\n\t\t</header>\r\n\r\n\t\t<!-- 订单列表 -->\r\n\t\t<h3>未支付订单信息 : </h3>\r\n\t\t<ul class=\"order\">\r\n\t\t\t\t<li v-for=\"item in unpaidOrders\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"order-info\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{{ item.business.businessName }}\r\n\t\t\t\t\t\t<i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div class=\"order-info-right\">\r\n\t\t\t\t\t\t<p>&#165;{{ item.orderTotal }}</p>\r\n\t\t\t\t\t\t<div class=\"order-info-right-icon\">去支付</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"order-detailed\" v-show=\"item.isShowDetailet\">\r\n\t\t\t\t\t<li v-for=\"odItem in item.list\" :key=\"odItem.id\">\r\n\t\t\t\t\t\t<p>{{ odItem.food.foodName }} x {{ odItem.quantity }}</p>\r\n\t\t\t\t\t\t<p>&#165;{{ odItem.food.foodPrice*odItem.quantity }}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<p>配送费</p>\r\n\t\t\t\t\t\t<p>&#165;{{ item.business.deliveryPrice }}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<h3>已支付订单信息 : </h3>\r\n\t\t<ul class=\"order\">\r\n\t\t\t<li v-for=\"item in paidOrders\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"order-info\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{{ item.business.businessName }}\r\n\t\t\t\t\t\t<i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div class=\"order-info-right\">\r\n\t\t\t\t\t\t<p>&#165;{{ item.orderTotal }}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"order-detailed\" v-show=\"item.isShowDetailet\">\r\n\t\t\t\t\t<li v-for=\"odItem in item.list\" :key=\"odItem.id\">\r\n\t\t\t\t\t\t<p>{{ odItem.food.foodName }} x {{ odItem.quantity }}</p>\r\n\t\t\t\t\t\t<p>&#165;{{ odItem.food.foodPrice*odItem.quantity }}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<p>配送费</p>\r\n\t\t\t\t\t\t<p>&#165;{{ item.business.deliveryPrice }}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<!-- 底部菜单 -->\r\n\t\t<Footer></Footer>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Footer from '../components/Footer.vue';\r\n\texport default {\r\n\t\tname: 'OrderList',\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\torderArr:[],\r\n\t\t\t\tuser:{}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated(){\r\n\t\t\tthis.user=this.$getSessionStorage('user');\r\n\t\t\t//根据businessId查询商家信息\r\n\t\t\tthis.$axios.post('OrdersController/listOrdersByUserId',this.$qs.stringify({\r\n\t\t\t\tUserId:this.UserId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tlet result =response.data\r\n\t\t\t\tfor(let orders of result){\r\n\t\t\t\t\torders.isShowDetailet=false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderArr=result;\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tunpaidOrders() {\r\n\t\t\t\treturn this.orderArr.filter(item => item.orderState === 0);\r\n\t\t\t},\r\n\t\t\tpaidOrders() {\r\n\t\t\t\treturn this.orderArr.filter(item => item.orderState === 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods:{\r\n\t\t\tdetailetShow(orders){\r\n\t\t\t\torders.isShowDetailet=!orders.isShowDetailet\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log('Component is mounted');\r\n\t\t\tdocument.onscroll = () => {\r\n\t\t\t\t// 这里添加滚动事件的处理逻辑\r\n\t\t\t\tconsole.log('Scroll event triggered');\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ****************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header ****************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097ff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 订单列表 ****************/\r\n\t.wrapper h3 {\r\n\t\tmargin-top: 12vw;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw;\r\n\t\tfont-size: 4vw;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.wrapper .order {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper .order li {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper .order li .order-info {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 2vw 4vw;\r\n\t\tfont-size: 4vw;\r\n\t\tcolor: #666;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .order li .order-info .order-info-right {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.wrapper .order li .order-info .order-info-right .order-info-right-icon {\r\n\t\tbackground-color: #f90;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin-left: 2vw;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.wrapper .order li .order-detailed {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper .order li .order-detailed li {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 1vw 4vw;\r\n\t\tcolor: #666;\r\n\t\tfont-size: 3vw;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n</style>\r\n"],"mappings":"AAmEC,OAAOA,MAAK,MAAO,0BAA0B;AAC7C,eAAe;EACdC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACL,OAAM;MACLC,QAAQ,EAAC,EAAE;MACXC,IAAI,EAAC,CAAC;IACP;EACD,CAAC;EAEDC,OAAOA,CAAA,EAAE;IACR,IAAI,CAACD,IAAI,GAAC,IAAI,CAACE,kBAAkB,CAAC,MAAM,CAAC;IACzC;IACA,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,qCAAqC,EAAC,IAAI,CAACC,GAAG,CAACC,SAAS,CAAC;MACzEC,MAAM,EAAC,IAAI,CAACA;IACb,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAE;MAClB,IAAIC,MAAK,GAAGD,QAAQ,CAACX,IAAG;MACxB,KAAI,IAAIa,MAAK,IAAKD,MAAM,EAAC;QACxBC,MAAM,CAACC,cAAc,GAAC,KAAK;MAC5B;MACA,IAAI,CAACb,QAAQ,GAACW,MAAM;IACrB,CAAC,CAAC,CAACG,KAAK,CAACC,KAAK,IAAE;MACfC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACrB,CAAC,CAAC;EACH,CAAC;EAEDE,QAAQ,EAAE;IACTC,YAAYA,CAAA,EAAG;MACd,OAAO,IAAI,CAAClB,QAAQ,CAACmB,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,UAAS,KAAM,CAAC,CAAC;IAC3D,CAAC;IACDC,UAAUA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACtB,QAAQ,CAACmB,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,UAAS,KAAM,CAAC,CAAC;IAC3D;EACD,CAAC;EAEDE,OAAO,EAAC;IACPC,YAAYA,CAACZ,MAAM,EAAC;MACnBA,MAAM,CAACC,cAAc,GAAC,CAACD,MAAM,CAACC,cAAa;IAC5C;EACD,CAAC;EAEDY,UAAU,EAAE;IACX5B;EACD,CAAC;EACD6B,OAAOA,CAAA,EAAG;IACTV,OAAO,CAACW,GAAG,CAAC,sBAAsB,CAAC;IACnCC,QAAQ,CAACC,QAAO,GAAI,MAAM;MACzB;MACAb,OAAO,CAACW,GAAG,CAAC,wBAAwB,CAAC;IACtC;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}