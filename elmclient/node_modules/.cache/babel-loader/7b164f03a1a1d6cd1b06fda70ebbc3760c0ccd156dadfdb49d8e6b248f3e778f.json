{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, inject, onMounted, watch, computed, onUnmounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport qs from 'qs';\nexport default {\n  name: 'Orders',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const businessId = ref(route.query.businessId);\n    const business = ref({});\n    const cartArr = ref([]);\n    const deliveryaddress = ref(null);\n    const aiString = ref('');\n    const user = ref(JSON.parse(sessionStorage.getItem('user')));\n    onMounted(() => {\n      // console.log(businessId.value)\n      let address = localStorage.getItem(user.value.userId);\n      if (address) {\n        deliveryaddress.value = JSON.parse(address);\n      }\n\n      // console.log('用户信息:', user.value);\n      // console.log('收货地址信息:', deliveryaddress.value);\n\n      //查询当前商家\n      let url = `http://localhost:10300/BusinessController/getBusinessById/${businessId.value}`;\n      axios.get(url).then(response => {\n        business.value = response.data.result;\n      }).catch(error => {\n        console.error(error);\n      });\n\n      //查询当前用户在购物车中的商家食品列表\n      let url2 = `http://localhost:10400/CartController/listCart/${user.value.userId}/${businessId.value}`;\n      axios.post(url2).then(response => {\n        cartArr.value = response.data.result;\n        // console.log('购物车信息:', cartArr.value);\n        // 查询AI语音\n        //这里也要改，关于ai的\n        return axios.post('CartController/aiSuggestion', qs.stringify({\n          userId: user.value.userId,\n          businessId: businessId.value\n        }));\n      }).then(response => {\n        aiString.value = response.data;\n        // console.log('ai语言:', aiString.value);\n      }).catch(error => {\n        console.error(error);\n      });\n    });\n    const toUserAddress = () => {\n      router.push({\n        path: '/userAddress',\n        query: {\n          businessId: business.value.businessId\n        }\n      });\n    };\n\n    //确认支付方法\n    const toPayment = () => {\n      if (deliveryaddress.value == null) {\n        alert('请选择送货地址');\n        return;\n      }\n\n      //创建订单\n      axios.post('OrdersController/createOrders', qs.stringify({\n        userId: user.value.userId,\n        businessId: businessId.value,\n        daId: deliveryaddress.value.daId,\n        orderTotal: totalPrice.value\n      })).then(response => {\n        let orderId = response.data;\n        if (orderId > 0) {\n          router.push({\n            path: '/payment',\n            query: {\n              orderId: orderId\n            }\n          });\n        } else {\n          alter('创建订单失败');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    // 刷新页面\n    const refreshPage = () => {\n      location.reload();\n    };\n\n    // 计算总金额\n    const totalPrice = computed(() => {\n      let total = 0;\n      for (let cartItem of cartArr.value) {\n        total += cartItem.food.foodPrice * cartItem.quantity;\n      }\n      total += business.value.deliveryPrice;\n      return total;\n    });\n\n    // 计算性别\n    const contactSex = computed(() => {\n      if (!deliveryaddress.value) {\n        return;\n      } else {\n        return deliveryaddress.value.contactSex === 1 ? '先生' : '女士';\n      }\n    });\n    return {\n      businessId,\n      business,\n      user,\n      cartArr,\n      deliveryaddress,\n      aiString,\n      toUserAddress,\n      toPayment,\n      refreshPage,\n      totalPrice,\n      contactSex\n    };\n  }\n};","map":{"version":3,"names":["ref","inject","onMounted","watch","computed","onUnmounted","useRoute","useRouter","axios","qs","name","setup","route","router","businessId","query","business","cartArr","deliveryaddress","aiString","user","JSON","parse","sessionStorage","getItem","address","localStorage","value","userId","url","get","then","response","data","result","catch","error","console","url2","post","stringify","toUserAddress","push","path","toPayment","alert","daId","orderTotal","totalPrice","orderId","alter","refreshPage","location","reload","total","cartItem","food","foodPrice","quantity","deliveryPrice","contactSex"],"sources":["F:\\elmprogram\\elm\\elmclient\\src\\views\\Orders.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<!-- header -->\r\n\t\t<header>\r\n\t\t\t<p>确认订单</p>\r\n\t\t</header>\r\n\r\n\t\t<!-- 订单信息 -->\r\n\t\t<div class=\"order-info\">\r\n\t\t\t<h5>订单配送至:</h5>\r\n\t\t\t<div class=\"order-info-address\" @click=\"toUserAddress\">\r\n\t\t\t\t<p>{{ deliveryaddress != null ? deliveryaddress.address : '请选择收货地址' }}</p>\r\n\t\t\t\t<i class=\"fa fa-angle-right\"></i>\r\n\t\t\t</div>\r\n\t\t\t<p>{{ deliveryaddress ? deliveryaddress.contactName : '' }}{{ contactSex!=null? contactSex : ''}} {{ deliveryaddress ? deliveryaddress.contactTel : '' }}</p>\r\n\r\n\t\t</div>\r\n\r\n\t\t<h3>{{ business ? business.businessName : '' }}</h3>\r\n\r\n\t\t<!-- 订单明细 -->\r\n\t\t<ul class=\"order-detailed\">\r\n\t\t\t<li v-for=\"item in cartArr\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"order-detailed-left\">\r\n\t\t\t\t\t<img :src=\"item.food.foodImg\">\r\n\t\t\t\t\t<p>{{ item.food.foodName }} x {{ item.quantity }}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p>&#165;{{ item.food.foodPrice/100*item.quantity }}</p>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"order-deliveryfee\">\r\n\t\t\t<p>配送费</p>\r\n\t\t\t<p>&#165;{{ business.deliveryPrice/100 }}</p>\r\n\t\t</div>\r\n\r\n\t\t<!-- ai聊天框 -->\r\n\t\t<div class=\"ai-section\">\r\n\t\t\t<div class=\"ai-header\">\r\n\t\t\t\t<div class=\"ai-header-text\">AI健康助手</div>\r\n\r\n\t\t\t\t<button @click=\"refreshPage\" class=\"refresh-btn\">重新生成</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ai-chat\">\r\n\t\t\t\t<img src=\"../assets/aiImg.png\">\r\n\t\t\t\t<pre class=\"ai-text\">{{ aiString }}</pre>\r\n\t\t\t\t<!-- <pre class=\"ai-text\">测试测试</pre> -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<!-- 订单合计 -->\r\n\t\t<div class=\"total\">\r\n\t\t\t<div class=\"total-left\">&#165;{{ totalPrice/100 }}</div>\r\n\t\t\t<div class=\"total-right\" @click=\"toPayment\">去支付</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tref,\r\n\t\tinject,\r\n\t\tonMounted,\r\n\t\twatch,\r\n\t\tcomputed,\r\n\t\tonUnmounted\r\n\t} from 'vue';\r\n\timport {\r\n\t\tuseRoute\r\n\t} from 'vue-router';\r\n\timport {\r\n\t\tuseRouter\r\n\t} from 'vue-router';\r\n\timport axios from 'axios';\r\n\timport qs from 'qs';\r\n\r\n\r\n\texport default {\r\n\t\tname: 'Orders',\r\n\t\tsetup() {\r\n\t\t\tconst route = useRoute();\r\n\t\t\tconst router = useRouter();\r\n\t\t\tconst businessId = ref(route.query.businessId);\r\n\t\t\tconst business = ref({});\r\n\t\t\tconst cartArr = ref([]);\r\n\t\t\tconst deliveryaddress = ref(null);\r\n\t\t\tconst aiString = ref('');\r\n\t\t\tconst user = ref(JSON.parse(sessionStorage.getItem('user')));\r\n\r\n\t\t\tonMounted(() => {\r\n\t\t\t\t// console.log(businessId.value)\r\n\t\t\t\tlet address = localStorage.getItem(user.value.userId);\r\n\t\t\t\tif (address) {\r\n\t\t\t\t\tdeliveryaddress.value = JSON.parse(address);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// console.log('用户信息:', user.value);\r\n\t\t\t\t// console.log('收货地址信息:', deliveryaddress.value);\r\n\r\n\t\t\t\t//查询当前商家\r\n\t\t\t\tlet url = `http://localhost:10300/BusinessController/getBusinessById/${businessId.value}`;\r\n\t\t\t\taxios.get(url).then(response => {\r\n\t\t\t\t\tbusiness.value = response.data.result;\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//查询当前用户在购物车中的商家食品列表\r\n\t\t\t\tlet url2 = `http://localhost:10400/CartController/listCart/${user.value.userId}/${businessId.value}`;\r\n\t\t\t\taxios.post(url2).then(response => {\r\n\t\t\t\t\tcartArr.value = response.data.result;\r\n\t\t\t\t\t// console.log('购物车信息:', cartArr.value);\r\n\t\t\t\t\t// 查询AI语音\r\n\t\t\t\t\t//这里也要改，关于ai的\r\n\t\t\t\t\treturn axios.post('CartController/aiSuggestion', qs.stringify({\r\n\t\t\t\t\t\tuserId: user.value.userId,\r\n\t\t\t\t\t\tbusinessId: businessId.value\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\taiString.value = response.data;\r\n\t\t\t\t\t// console.log('ai语言:', aiString.value);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tconst toUserAddress = () => {\r\n\t\t\t\trouter.push({\r\n\t\t\t\t\tpath: '/userAddress',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tbusinessId: business.value.businessId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t//确认支付方法\r\n\t\t\tconst toPayment = () => {\r\n\t\t\t\tif (deliveryaddress.value == null) {\r\n\t\t\t\t\talert('请选择送货地址');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//创建订单\r\n\t\t\t\taxios.post('OrdersController/createOrders', qs.stringify({\r\n\t\t\t\t\tuserId: user.value.userId,\r\n\t\t\t\t\tbusinessId: businessId.value,\r\n\t\t\t\t\tdaId: deliveryaddress.value.daId,\r\n\t\t\t\t\torderTotal: totalPrice.value\r\n\t\t\t\t})).then(response => {\r\n\t\t\t\t\tlet orderId = response.data;\r\n\t\t\t\t\tif (orderId > 0) {\r\n\t\t\t\t\t\trouter.push({\r\n\t\t\t\t\t\t\tpath: '/payment',\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\torderId: orderId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talter('创建订单失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\r\n\t\t\t};\r\n\r\n\t\t\t// 刷新页面\r\n\t\t\tconst refreshPage = () => {\r\n\t\t\t\tlocation.reload();\r\n\t\t\t};\r\n\r\n\t\t\t// 计算总金额\r\n\t\t\tconst totalPrice = computed(() => {\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tfor (let cartItem of cartArr.value) {\r\n\t\t\t\t\ttotal += cartItem.food.foodPrice * cartItem.quantity;\r\n\t\t\t\t}\r\n\t\t\t\ttotal += business.value.deliveryPrice;\r\n\t\t\t\treturn total;\r\n\t\t\t});\r\n\r\n\t\t\t// 计算性别\r\n\t\t\tconst contactSex = computed(() => {\r\n\t\t\t\tif (!deliveryaddress.value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn deliveryaddress.value.contactSex === 1 ? '先生' : '女士';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tbusinessId,\r\n\t\t\t\tbusiness,\r\n\t\t\t\tuser,\r\n\t\t\t\tcartArr,\r\n\t\t\t\tdeliveryaddress,\r\n\t\t\t\taiString,\r\n\t\t\t\ttoUserAddress,\r\n\t\t\t\ttoPayment,\r\n\t\t\t\trefreshPage,\r\n\t\t\t\ttotalPrice,\r\n\t\t\t\tcontactSex\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ****************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header ****************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097ff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 订单信息 ****************/\r\n\t.wrapper .order-info {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 12vw;\r\n\t\tbackground-color: #0097ef;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 2vw;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.wrapper .order-info h5 {\r\n\t\tfont-size: 3vw;\r\n\t\tfont-weight: 300;\r\n\t}\r\n\r\n\t.wrapper .order-info .order-info-address {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\r\n\t\tfont-weight: 700;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t\tmargin: 1vw 0;\r\n\t}\r\n\r\n\t.wrapper .order-info .order-info-address p {\r\n\t\twidth: 90%;\r\n\t\tfont-size: 5vw;\r\n\t}\r\n\r\n\t.wrapper .order-info .order-info-address i {\r\n\t\tfont-size: 6vw;\r\n\t}\r\n\r\n\t.wrapper .order-info p {\r\n\t\tfont-size: 3vw;\r\n\t}\r\n\r\n\t.wrapper h3 {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 3vw;\r\n\t\tfont-size: 4vw;\r\n\t\tcolor: #666;\r\n\t\tborder-bottom: solid 1px #ddd;\r\n\t}\r\n\r\n\t/****************** 订单明细 ****************/\r\n\t.wrapper .order-detailed {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper .order-detailed li {\r\n\t\twidth: 100%;\r\n\t\theight: 16vw;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 3vw;\r\n\t\tcolor: #666;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .order-detailed li .order-detailed-left {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .order-detailed li .order-detailed-left img {\r\n\t\twidth: 10vw;\r\n\t\theight: 10vw;\r\n\t}\r\n\r\n\t.wrapper .order-detailed li .order-detailed-left p {\r\n\t\tfont-size: 3.5vw;\r\n\t\tmargin-left: 3vw;\r\n\t}\r\n\r\n\t.wrapper .order-detailed li p {\r\n\t\tfont-size: 3.5vw;\r\n\t}\r\n\r\n\t.wrapper .order-deliveryfee {\r\n\t\twidth: 100%;\r\n\t\theight: 16vw;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 3vw;\r\n\t\tcolor: #666;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 3.5vw;\r\n\t}\r\n\r\n\t/****************** ai健康助手 ****************/\r\n\t.wrapper .ai-section {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.wrapper .ai-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .ai-header-text {\r\n\t\tmargin: 10px;\r\n\t\tfont-family: 'Arial', sans-serif;\r\n\t\tfont-size: 18px;\r\n\t\tbackground: linear-gradient(90deg, #5DBBE8, #62C7A9);\r\n\t\tcolor: #fff;\r\n\t\tpadding: 10px 20px;\r\n\t\tborder-radius: 20px;\r\n\t\tbox-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\r\n\t.wrapper .ai-header-text:before {\r\n\t\tcontent: '\\f2be';\r\n\t\tfont-family: 'FontAwesome';\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.wrapper .ai-header-text:hover {\r\n\t\tbackground: linear-gradient(90deg, #62C7A9, #5DBBE8);\r\n\t\ttransform: translateY(-2px);\r\n\t\tbox-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.wrapper .ai-chat {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 50px;\r\n\t}\r\n\r\n\t.wrapper .ai-chat img {\r\n\t\theight: 15vw;\r\n\t\twidth: 15vw;\r\n\t\tmargin: 5px;\r\n\t}\r\n\r\n\t.wrapper .ai-chat .ai-text {\r\n\t\tmargin: 10px 50px 20px 10px;\r\n\t\tpadding: 15px;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow:\r\n\t\t\t0 4px 8px rgba(0, 0, 0, 0.1),\r\n\t\t\t0 8px 16px rgba(0, 0, 0, 0.2),\r\n\t\t\tinset 0 -4px 8px rgba(0, 0, 0, 0.05);\r\n\t\tbackground: linear-gradient(160deg, rgba(255, 255, 255, 0.9), rgba(230, 230, 230, 0.9));\r\n\t\tfont-family: 'Arial', sans-serif;\r\n\t\ttext-align: left;\r\n\t\tposition: relative;\r\n\t\twhite-space: pre-wrap;\r\n\t\tmax-height: XXvw;\r\n\t}\r\n\r\n\t.wrapper .ai-chat .ai-text:after {\r\n\t\tcontent: '';\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tborder-top: 15px solid transparent;\r\n\t\tborder-bottom: 15px solid transparent;\r\n\t\tborder-right: 15px solid rgba(230, 230, 230, 0.9);\r\n\t\tposition: absolute;\r\n\t\ttop: 10px;\r\n\t\tleft: 0;\r\n\t\ttransform: translateX(-100%);\r\n\t}\r\n\r\n\r\n\r\n\t.refresh-btn {\r\n\t\tbackground: #62C7A9;\r\n\t\tmargin: 10px;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 5px 15px;\r\n\t\tborder: none;\r\n\t\tborder-radius: 15px;\r\n\t\tcursor: pointer;\r\n\t\ttransition: background-color 0.3s ease;\r\n\t}\r\n\r\n\t.refresh-btn:hover {\r\n\t\tbackground: #5DBBE8;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t/****************** 订单合计 ****************/\r\n\t.wrapper .total {\r\n\t\twidth: 100%;\r\n\t\theight: 14vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.wrapper .total .total-left {\r\n\t\tflex: 2;\r\n\t\tbackground-color: #505051;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4, 5vw;\r\n\t\tfont-weight: 700;\r\n\t\tuser-select: none;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .total .total-right {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #38ca73;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.5vw;\r\n\t\tfont-weight: 700;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}