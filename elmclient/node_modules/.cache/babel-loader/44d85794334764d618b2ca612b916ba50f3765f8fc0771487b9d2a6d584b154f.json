{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/elm-brand.png';\nimport _imports_1 from '../assets/brand.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"wrapper\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"header\", null, [/*#__PURE__*/_createElementVNode(\"p\", null, \"用户登录\")], -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"login\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"密码登录\"), /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n})], -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"form-box\"\n};\nconst _hoisted_5 = {\n  class: \"content\"\n};\nconst _hoisted_6 = {\n  class: \"content\"\n};\nconst _hoisted_7 = {\n  class: \"button-login\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"divider\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"line\"\n}), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text\"\n}, \"OR\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"line\"\n})], -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"button-register\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"brand\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1\n})], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" header \"), _hoisted_2, _hoisted_3, _createCommentVNode(\" 表单部分 \"), _createElementVNode(\"ul\", _hoisted_4, [_createElementVNode(\"li\", null, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.userId = $event),\n    placeholder: \"请输入手机号\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.userId]])])]), _createElementVNode(\"li\", null, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    placeholder: \"请输入密码\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])])])]), _createCommentVNode(\" 登录按钮 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.login && $setup.login(...args))\n  }, \"登录\")]), _createCommentVNode(\" 分割线 \"), _hoisted_8, _createCommentVNode(\" 注册按钮 \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.register && $setup.register(...args))\n  }, \"注册\")]), _createCommentVNode(\" 底部图标 \"), _hoisted_10]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","_createElementVNode","src","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","$setup","userId","$event","placeholder","_hoisted_6","password","_hoisted_7","onClick","_cache","args","login","_hoisted_8","_hoisted_9","register","_hoisted_10"],"sources":["F:\\elmprogram\\elm\\elmclient\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<!-- header -->\r\n\t\t<header>\r\n\t\t\t<p>用户登录</p>\r\n\t\t</header>\r\n\r\n\t\t<div class=\"login\">\r\n\t\t\t<h2>密码登录</h2>\r\n\t\t\t<img src=\"../assets/elm-brand.png\">\r\n\t\t</div>\r\n\t\t<!-- 表单部分 -->\r\n\t\t<ul class=\"form-box\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"userId\" placeholder=\"请输入手机号\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"password\" v-model=\"password\" placeholder=\"请输入密码\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<!-- 登录按钮 -->\r\n\t\t<div class=\"button-login\">\r\n\t\t\t<button @click=\"login\">登录</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 分割线 -->\r\n\t\t<div class=\"divider\">\r\n\t\t\t<div class=\"line\"></div>\r\n\t\t\t<div class=\"text\">OR</div>\r\n\t\t\t<div class=\"line\"></div>\r\n\t\t</div>\r\n\t\t<!-- 注册按钮 -->\r\n\t\t<div class=\"button-register\">\r\n\t\t\t<button @click=\"register\">注册</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 底部图标 -->\r\n\t\t<div class=\"brand\">\r\n\t\t\t<img src=\"../assets/brand.png\">\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tref,\r\n\t\tinject,\r\n\t\tonMounted,\r\n\t\twatch,\r\n\t\tcomputed,\r\n\t\tonUnmounted\r\n\t} from 'vue';\r\n\timport {\r\n\t\tuseRouter\r\n\t} from 'vue-router';\r\n\timport axios from 'axios';\r\n\timport qs from 'qs';\r\n\timport {\r\n\t\tsetSessionStorage,\r\n\t} from '../common.js'\r\n\r\n\timport Footer from '../components/Footer.vue';\r\n\timport md5 from \"js-md5\";\r\n\r\n\texport default {\r\n\t\tname: 'Login',\r\n\t\tcomponents: {\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tsetup() {\r\n\t\t\tconst router = useRouter();\r\n\t\t\tconst user = ref({});\r\n\t\t\tconst userId = ref('');\r\n\t\t\tconst password = ref('');\r\n\r\n\t\t\t// 登录方法\r\n\t\t\tconst login = () => {\r\n\t\t\t\tif (userId.value == '') {\r\n\t\t\t\t\talert('手机号码不能为空');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (password.value == '') {\r\n\t\t\t\t\talert('密码不能为空');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 登录请求\r\n\t\t\t\tlet url =`http://localhost:10100/UserController/getUserByIdByPass/${userId.value}/${password.value}`;\r\n\t\t\t\taxios.get(url).then(response => {\r\n\t\t\t\t\tconst returnedUser = response.data.result;\r\n\t\t\t\t\t// 查看 user 的类型 \r\n\t\t\t\t\tconsole.log(typeof returnedUser);\r\n\t\t\t\t\t// 查看 user 的内容\r\n\t\t\t\t\tconsole.log(returnedUser);\r\n\r\n\t\t\t\t\tif (returnedUser == null) {\r\n\t\t\t\t\t\talert('用户名或密码不正确!');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// sessionstorage有容量限制，为了防止数据溢出，所以不将userImg放入数据中\r\n\t\t\t\t\t\treturnedUser.userImg = '';\r\n\t\t\t\t\t\tsetSessionStorage('user', returnedUser);\r\n\t\t\t\t\t\trouter.go(-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// 跳转到注册页面\r\n\t\t\tconst register = () => {\r\n\t\t\t\trouter.push('/register');\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tuser,\r\n\t\t\t\tuserId,\r\n\t\t\t\tpassword,\r\n\t\t\t\tlogin,\r\n\t\t\t\tregister\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ****************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t/****************** header ****************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097ff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .login {\r\n\t\tmargin: 30vw 0 10vw 12vw;\r\n\t}\r\n\r\n\t.wrapper .login img {\r\n\t\twidth: 40vw;\r\n\t\topacity: 15%;\r\n\r\n\t\tposition: absolute;\r\n\t\ttop: 22%;\r\n\t\tleft: 30%;\r\n\r\n\t}\r\n\r\n\t/****************** 表单部分 ****************/\r\n\t.wrapper .form-box {\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 10vw;\r\n\t}\r\n\r\n\t.wrapper .form-box li {\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 6vw 10vw 0 10vw;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tborder: #f4eeee solid;\r\n\t\tborder-width: 0px 0px 1.8px 0px;\r\n\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.wrapper .form-box li .content {\r\n\t\twidth: 100%;\r\n\t\tmargin: 2vw 1vw 2vw 2vw;\r\n\t}\r\n\r\n\t.wrapper .form-box li .content input {\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\twidth: 100%;\r\n\t\theight: 4vw;\r\n\t\tfont-size: 4vw;\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\r\n\t/****************** 登录按钮 ****************/\r\n\t.wrapper .button-login {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 10vw 10vw 0vw 10vw;\r\n\t}\r\n\r\n\t.wrapper .button-login button {\r\n\t\twidth: 100%;\r\n\t\theight: 11vw;\r\n\t\tfont-size: 5vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #0097ff;\r\n\t\tborder-radius: 50px;\r\n\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t/****************** 注册按钮 ****************/\r\n\t.wrapper .button-register {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0vw 10vw 0 10vw;\r\n\t}\r\n\r\n\t.wrapper .button-register button {\r\n\t\twidth: 100%;\r\n\t\theight: 11vw;\r\n\t\tfont-size: 5vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #666;\r\n\t\tbackground-color: #eee;\r\n\t\tborder-radius: 50px;\r\n\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tborder: solid 1px #ddd;\r\n\t}\r\n\r\n\t/****************** 分割线 ****************/\r\n\t.wrapper .divider {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 5vw 6vw;\r\n\t}\r\n\r\n\t.wrapper .line {\r\n\t\theight: 1px;\r\n\t\twidth: 30vw;\r\n\t\tbackground-color: #d6d2d2;\r\n\t\tmargin: 3vw 6vw 0vw 6vw;\r\n\t}\r\n\r\n\t.wrapper .text {\r\n\t\theight: 100%;\r\n\t\twidth: 34px;\r\n\t\tcolor: #d6d2d2;\r\n\t\tfont-size: 17px;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.wrapper .brand {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 37.5vw;\r\n\t}\r\n\r\n\t.wrapper .brand img {\r\n\t\twidth: 25vw;\r\n\t}\r\n</style>\r\n"],"mappings":";OASQA,UAA6B;OAkC7BC,UAAyB;;;EA1C3BC,KAAK,EAAC;AAAS;gEAEnBC,mBAAA,CAES,iB,aADRA,mBAAA,CAAW,WAAR,MAAI,E;gEAGRA,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAO,I,aACjBC,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAmC;EAA9BC,GAA6B,EAA7BJ;AAA6B,G;;EAG/BE,KAAK,EAAC;AAAU;;EAEbA,KAAK,EAAC;AAAS;;EAKfA,KAAK,EAAC;AAAS;;EAOjBA,KAAK,EAAC;AAAc;gEAKzBC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAS,I,aACnBC,mBAAA,CAAwB;EAAnBD,KAAK,EAAC;AAAM,I,aACjBC,mBAAA,CAA0B;EAArBD,KAAK,EAAC;AAAM,GAAC,IAAE,G,aACpBC,mBAAA,CAAwB;EAAnBD,KAAK,EAAC;AAAM,G;;EAGbA,KAAK,EAAC;AAAiB;iEAK5BC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAO,I,aACjBC,mBAAA,CAA+B;EAA1BC,GAAyB,EAAzBH;AAAyB,G;;;uBA1ChCI,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CLC,mBAAA,YAAe,EACfC,UAES,EAETC,UAGM,EACNF,mBAAA,UAAa,EACbJ,mBAAA,CAWK,MAXLO,UAWK,GAVJP,mBAAA,CAIK,aAHJA,mBAAA,CAEM,OAFNQ,UAEM,G,gBADLR,mBAAA,CAAyD;IAAlDS,IAAI,EAAC,MAAM;+DAAUC,MAAA,CAAAC,MAAM,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAApBH,MAAA,CAAAC,MAAM,E,OAGpCX,mBAAA,CAIK,aAHJA,mBAAA,CAEM,OAFNc,UAEM,G,gBADLd,mBAAA,CAA8D;IAAvDS,IAAI,EAAC,UAAU;+DAAUC,MAAA,CAAAK,QAAQ,GAAAH,MAAA;IAAEC,WAAW,EAAC;iDAAtBH,MAAA,CAAAK,QAAQ,E,SAK3CX,mBAAA,UAAa,EACbJ,mBAAA,CAEM,OAFNgB,UAEM,GADLhB,mBAAA,CAAkC;IAAzBiB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAET,MAAA,CAAAU,KAAA,IAAAV,MAAA,CAAAU,KAAA,IAAAD,IAAA,CAAK;KAAE,IAAE,E,GAG1Bf,mBAAA,SAAY,EACZiB,UAIM,EACNjB,mBAAA,UAAa,EACbJ,mBAAA,CAEM,OAFNsB,UAEM,GADLtB,mBAAA,CAAqC;IAA5BiB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAET,MAAA,CAAAa,QAAA,IAAAb,MAAA,CAAAa,QAAA,IAAAJ,IAAA,CAAQ;KAAE,IAAE,E,GAG7Bf,mBAAA,UAAa,EACboB,WAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}