{"ast":null,"code":"import { ref, inject, onMounted, watch, computed } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport qs from 'qs';\nimport Footer from '../components/Footer.vue';\nexport default {\n  name: 'AddUserAddress',\n  components: {\n    Footer\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const businessId = ref(route.query.businessId);\n    const user = ref(JSON.parse(sessionStorage.getItem('user')));\n    const deliveryAddress = ref({\n      contactName: '',\n      contactSex: 1,\n      contactTel: '',\n      address: ''\n    });\n\n    // 添加用户地址\n    const addUserAddress = () => {\n      if (deliveryAddress.value.contactName === '') {\n        alert('联系人姓名不能为空！');\n        return;\n      }\n      if (deliveryAddress.value.contactTel === '') {\n        alert('联系人电话不能为空！');\n        return;\n      }\n      if (deliveryAddress.value.address === '') {\n        alert('联系人地址不能为空！');\n        return;\n      }\n      deliveryAddress.value.userId = user.value.userId;\n\n      // 新增地址请求\n      let url = `http://localhost:10500/DeliveryAddressController/saveDeliveryAddress/${deliveryAddress.value.contactName}/${deliveryAddress.value.contactSex}/${deliveryAddress.value.contactTel}/${deliveryAddress.value.address}/${user.value.userId}`;\n      axios.post(url).then(response => {\n        if (response.data > 0) {\n          router.go(-1);\n        } else {\n          alert('新增地址失败！');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n    return {\n      businessId,\n      user,\n      deliveryAddress,\n      addUserAddress\n    };\n  }\n};","map":{"version":3,"names":["ref","inject","onMounted","watch","computed","useRoute","useRouter","axios","qs","Footer","name","components","setup","route","router","businessId","query","user","JSON","parse","sessionStorage","getItem","deliveryAddress","contactName","contactSex","contactTel","address","addUserAddress","value","alert","userId","url","post","then","response","data","go","catch","error","console"],"sources":["F:\\elmprogram\\elm\\elmclient\\src\\views\\AddUserAddress.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<!-- header -->\r\n\t\t<header>\r\n\t\t\t<p>新增收货地址</p>\r\n\t\t</header>\r\n\r\n\t\t<!-- 表单部分 -->\r\n\t\t<ul class=\"form-box\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">联系人: </div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"deliveryAddress.contactName\" placeholder=\"联系人姓名\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">性别: </div>\r\n\t\t\t\t<div class=\"content\" style=\"font-size: 3vw;\">\r\n\t\t\t\t\t<input type=\"radio\" v-model=\"deliveryAddress.contactSex\" value=\"1\" style=\"width: 6vw;height: 3.2vw;\">男\r\n\t\t\t\t\t<input type=\"radio\" v-model=\"deliveryAddress.contactSex\" value=\"0\" style=\"width: 6vw;height: 3.2vw;\">女\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">电话: </div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"content\" v-model=\"deliveryAddress.contactTel\" placeholder=\"电话\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\">收货地址: </div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<input type=\"content\" v-model=\"deliveryAddress.address\" placeholder=\"收货地址\">\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<!-- 保存按钮 -->\r\n\t\t<div class=\"button-add\">\r\n\t\t\t<button @click=\"addUserAddress\">保存</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- 底部菜单 -->\r\n\t\t<Footer></Footer>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tref,\r\n\t\tinject,\r\n\t\tonMounted,\r\n\t\twatch,\r\n\t\tcomputed\r\n\t} from 'vue';\r\n\timport {\r\n\t\tuseRoute\r\n\t} from 'vue-router';\r\n\timport {\r\n\t\tuseRouter\r\n\t} from 'vue-router';\r\n\timport axios from 'axios';\r\n\timport qs from 'qs';\r\n\timport Footer from '../components/Footer.vue';\r\n\r\n\r\n\texport default {\r\n\t\tname: 'AddUserAddress',\r\n\t\tcomponents: {\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tsetup() {\r\n\t\t\tconst route = useRoute();\r\n\t\t\tconst router = useRouter();\r\n\t\t\tconst businessId = ref(route.query.businessId);\r\n\t\t\tconst user = ref(JSON.parse(sessionStorage.getItem('user')));\r\n\t\t\tconst deliveryAddress = ref({\r\n\t\t\t\tcontactName: '',\r\n\t\t\t\tcontactSex: 1,\r\n\t\t\t\tcontactTel: '',\r\n\t\t\t\taddress: ''\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// 添加用户地址\r\n\t\t\tconst addUserAddress = () => {\r\n\t\t\t\tif (deliveryAddress.value.contactName === '') {\r\n\t\t\t\t\talert('联系人姓名不能为空！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (deliveryAddress.value.contactTel === '') {\r\n\t\t\t\t\talert('联系人电话不能为空！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (deliveryAddress.value.address === '') {\r\n\t\t\t\t\talert('联系人地址不能为空！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdeliveryAddress.value.userId = user.value.userId;\r\n\r\n\r\n\t\t\t\t// 新增地址请求\r\n\t\t\t\tlet url = `http://localhost:10500/DeliveryAddressController/saveDeliveryAddress/${deliveryAddress.value.contactName}/${deliveryAddress.value.contactSex}/${deliveryAddress.value.contactTel}/${deliveryAddress.value.address}/${user.value.userId}`;\r\n\t\t\t\taxios.post(url)\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif (response.data > 0) {\r\n\t\t\t\t\t\t\trouter.go(-1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert('新增地址失败！');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tbusinessId,\r\n\t\t\t\tuser,\r\n\t\t\t\tdeliveryAddress,\r\n\t\t\t\taddUserAddress\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/****************** 总容器 ****************/\r\n\t.wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/****************** header ****************/\r\n\t.wrapper header {\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: #0097ff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4.8vw;\r\n\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 1000;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/****************** 表单部分 ****************/\r\n\r\n\t.wrapper .form-box {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 20vw;\r\n\t}\r\n\r\n\t.wrapper .form-box li {\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 6vw 10vw 0 10vw;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tborder: #f4eeee solid;\r\n\t\tborder-width: 0px 0px 1.8px 0px;\r\n\t}\r\n\r\n\t.wrapper .form-box li .title {\r\n\t\tmargin: 2vw 0vw;\r\n\t\tflex: 0 0 18vw;\r\n\t\tfont-size: 3.8vw;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.wrapper .form-box li .content {\r\n\t\tflex: 1;\r\n\t\tmargin: 2vw 0vw 2vw 2vw;\r\n\t}\r\n\r\n\t.wrapper .form-box li .content input {\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\twidth: 100%;\r\n\t\theight: 4vw;\r\n\t\tfont-size: 3.5vw;\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\r\n\t/****************** 保存按钮 ****************/\r\n\t.wrapper .button-add {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 10vw 10vw 0 10vw;\r\n\t}\r\n\r\n\t.wrapper .button-add button {\r\n\t\twidth: 100%;\r\n\t\theight: 13vw;\r\n\t\tfont-size: 5vw;\r\n\t\tfont-weight: 550;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #0097ff;\r\n\t\tborder-radius: 50px;\r\n\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t}\r\n</style>\r\n"],"mappings":"AAgDC,SACCA,GAAG,EACHC,MAAM,EACNC,SAAS,EACTC,KAAK,EACLC,QAAO,QACD,KAAK;AACZ,SACCC,QAAO,QACD,YAAY;AACnB,SACCC,SAAQ,QACF,YAAY;AACnB,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,EAAC,MAAO,IAAI;AACnB,OAAOC,MAAK,MAAO,0BAA0B;AAG7C,eAAe;EACdC,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE;IACXF;EACD,CAAC;EACDG,KAAKA,CAAA,EAAG;IACP,MAAMC,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,MAAK,GAAIR,SAAS,CAAC,CAAC;IAC1B,MAAMS,UAAS,GAAIf,GAAG,CAACa,KAAK,CAACG,KAAK,CAACD,UAAU,CAAC;IAC9C,MAAME,IAAG,GAAIjB,GAAG,CAACkB,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;IAC5D,MAAMC,eAAc,GAAItB,GAAG,CAAC;MAC3BuB,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,CAAC;MACbC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACV,CAAC,CAAC;;IAGF;IACA,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC5B,IAAIL,eAAe,CAACM,KAAK,CAACL,WAAU,KAAM,EAAE,EAAE;QAC7CM,KAAK,CAAC,YAAY,CAAC;QACnB;MACD;MACA,IAAIP,eAAe,CAACM,KAAK,CAACH,UAAS,KAAM,EAAE,EAAE;QAC5CI,KAAK,CAAC,YAAY,CAAC;QACnB;MACD;MACA,IAAIP,eAAe,CAACM,KAAK,CAACF,OAAM,KAAM,EAAE,EAAE;QACzCG,KAAK,CAAC,YAAY,CAAC;QACnB;MACD;MAEAP,eAAe,CAACM,KAAK,CAACE,MAAK,GAAIb,IAAI,CAACW,KAAK,CAACE,MAAM;;MAGhD;MACA,IAAIC,GAAE,GAAK,wEAAuET,eAAe,CAACM,KAAK,CAACL,WAAY,IAAGD,eAAe,CAACM,KAAK,CAACJ,UAAW,IAAGF,eAAe,CAACM,KAAK,CAACH,UAAW,IAAGH,eAAe,CAACM,KAAK,CAACF,OAAQ,IAAGT,IAAI,CAACW,KAAK,CAACE,MAAO,EAAC;MACnPvB,KAAK,CAACyB,IAAI,CAACD,GAAG,EACZE,IAAI,CAACC,QAAO,IAAK;QACjB,IAAIA,QAAQ,CAACC,IAAG,GAAI,CAAC,EAAE;UACtBrB,MAAM,CAACsB,EAAE,CAAC,CAAC,CAAC,CAAC;QACd,OAAO;UACNP,KAAK,CAAC,SAAS,CAAC;QACjB;MACD,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACfC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC;IAED,OAAO;MACNvB,UAAU;MACVE,IAAI;MACJK,eAAe;MACfK;IACD,CAAC;EACF;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}